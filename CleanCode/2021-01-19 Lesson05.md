## 5. 형식 맞추기


**목적**  
시간이 지나 코드가 변하게 되더라도 개발자의 스타일과 규율은 사라지지 않기 때문에 코드 형식은 중요하다.

**적절한 행 길이를 유지하라**  
일반적으로 큰 파일보다 작은 파이이 이해하기 쉽기 때문에 반드시 지킬 엄격한 규칙은 아니지만 바람직한 규칙으로 삼았으면 한다.

**"200줄 미만이 좋으며, 최대 500줄을 넘지 않는 선"**

**신문기사 처럼 작성하라**  
표제를 보고 시가의 내용을 판단하듯, 이름만 보고도 올바른 모듈을 살펴보고 있는지 아닌지를 판단할 정도로 신경 써서 지어야된다.

아래로 내려갈 수록 의도를 세세하게 묘사하며 마지막에는 저차원 함수와 세부 내역이 나오도록 하자.

### 세로 형식
---

**줄바꿈은 개념을 분리, 세로 밀집도는 연관성을 의미**  
**줄바꿈**은 새로운 개념을 시작한다는 시각적인 단서  
연관된 것들끼리 묶음으로 분리되어 보인다.

**세로 밀집도**는 서로 밀접한 코드 행은 세로로 가까이 놓여야 한다.

```swift
import RxSwift

final class TestView: UIView {
	
    static let DELTA_START: String = "["
    static let DELTA_END: String = "]"

    var backgroundColor: UIColor = .red
    var cornerRadius: CGRect = 0.0

	func init() {
		
	}
	
	func makeRect() {
		
	}
}
```

**변수 선언**  
사용부에 최대한 가까이 선언해야 한다.

```swift
func countTestCases() -> Int {
    var count: Int = 0
    tests.forEach {
        count += $0
	}
	return count
}
```

**인스턴스 변수**  
인스턴스 변수는 클래스 맨 처음에 선언한다.  
변수간에 거리를 두지 않는다.

**종속 함수**  
한 함수가 다른 함수를 호출한다면 두 함수는 세로로 가까이 배치해야되며, 가능하다면 호출하는 함수를 호출되는 함수보다 먼저 배치한다.

**개념적 유사성**  
유사성이 높은수록 코드를 가까이 배치한다.

**세로순서**  
일반적으로 함수 호출 종속성은 함수를 호출하는 함수보다 나중에 배치하는 아래 방향으로 유지한다. 그러면 소스 코드 모듈이 고차원에서 저차원으로 자연스럽게 내려가기 때문.

```swift
func shouldBeCompacted() -> Bool {
	return !shouldNotBeCompacted()
}

func shouldNotBeCompacted() -> Bool {
	return expected == nil || actual == nil
}
```

### **가로 형식**
---

짧은 행이 바람직.   
100 ~ 120자에 달해도 나쁘지 않다. 그 이상은 no  
저자는 120정도 추천

**가로 공백과 밀집도**  
연산자를 강조하기 위해 앞뒤로 공백을 줄 것 ( 왼쪽 오른쪽 요소가 분명히 나뉘어진다 )  
함수와 괄호 사이에는 공백를 넣지 않는다. (함수와 인수는 밀접하기 때문에)  
인수들은 공백으로 구분해준다 (쉼표를 강조해 준다)

**들여쓰기**  
한 행에 범위를 뭉뚱그린 코드에 유혹에 빠지기 보단 원점으로 돌아가 들여쓰기를 권장

```swift
// X
numbers.filter { $0 % 2 == 0 }

// O
numbers.filter {
	$0 % 2 == 0
}
```

**"팀은 규칙의 합의해야되며, 모든 팀원은 그 규칙을 따라야 한다. 그래야 소프트웨어가 일관적인 스타일을 보인다."**